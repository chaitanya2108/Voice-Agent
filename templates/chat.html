{% extends "base.html" %} {% block title %}Chat with AI - Flask App{% endblock
%} {% block content %}
<div class="row">
  <div class="col-md-8 mx-auto">
    <div class="card chat-container">
      <div class="card-header bg-primary text-white">
        <h4 class="mb-0">
          <i class="fas fa-robot me-2"></i>AI Chat Assistant
          <button
            class="btn btn-sm btn-outline-light float-end"
            onclick="clearChat()"
            title="Clear conversation"
          >
            <i class="fas fa-trash"></i>
          </button>
        </h4>
      </div>
      <div class="card-body p-0">
        <!-- Chat Messages Area -->
        <div id="chat-messages" class="chat-messages">
          <div class="welcome-message text-center p-4">
            <div class="spinner-border text-primary mb-3" role="status">
              <span class="visually-hidden">Loading...</span>
            </div>
            <p class="text-muted">Starting conversation...</p>
          </div>
        </div>

        <!-- Voice Settings -->
        <div class="voice-settings p-3 border-top bg-light">
          <div class="row align-items-center">
            <div class="col-md-6">
              <label for="voice-select" class="form-label mb-1">
                <i class="fas fa-microphone me-1"></i>AI Voice
              </label>
              <select id="voice-select" class="form-select form-select-sm">
                <option value="Kore" selected>Kore — Firm</option>
                <option value="Puck">Puck — Upbeat</option>
                <option value="Zephyr">Zephyr — Bright</option>
                <option value="Charon">Charon — Informative</option>
                <option value="Enceladus">Enceladus — Breathy</option>
                <option value="Leda">Leda — Youthful</option>
                <option value="Umbriel">Umbriel — Easy-going</option>
                <option value="Iapetus">Iapetus — Clear</option>
                <option value="Aoede">Aoede — Breezy</option>
                <option value="Callirrhoe">Callirrhoe — Easy-going</option>
                <option value="Autonoe">Autonoe — Bright</option>
                <option value="Orus">Orus — Firm</option>
                <option value="Fenrir">Fenrir — Excitable</option>
                <option value="Laomedeia">Laomedeia — Upbeat</option>
                <option value="Achird">Achird — Friendly</option>
                <option value="Zubenelgenubi">Zubenelgenubi — Casual</option>
                <option value="Vindemiatrix">Vindemiatrix — Gentle</option>
                <option value="Sulafat">Sulafat — Warm</option>
              </select>
            </div>
            <div class="col-md-6">
              <div class="form-check form-switch">
                <input
                  class="form-check-input"
                  type="checkbox"
                  id="tts-enabled"
                  checked
                />
                <label class="form-check-label" for="tts-enabled">
                  <i class="fas fa-volume-up me-1"></i>Enable Voice Responses
                </label>
              </div>
            </div>
          </div>
        </div>

        <!-- Chat Input Area -->
        <div class="chat-input p-3 border-top">
          <div class="input-group">
            <input
              type="text"
              id="message-input"
              class="form-control"
              placeholder="Type your message here..."
              maxlength="500"
              onkeypress="handleKeyPress(event)"
            />
            <button
              class="btn btn-primary"
              type="button"
              onclick="sendMessage()"
              id="send-button"
            >
              <i class="fas fa-paper-plane"></i>
            </button>
          </div>
          <div class="mt-2">
            <button
              class="btn btn-sm btn-outline-secondary me-2"
              onclick="getRandomStarter()"
            >
              <i class="fas fa-dice"></i> Random Topic
            </button>
            <small class="text-muted">
              <span id="char-count">0</span>/500 characters
            </small>
          </div>
        </div>
      </div>
    </div>

    <!-- Chat Features Info -->
    <div class="row mt-5">
      <div class="col-md-6">
        <div class="card">
          <div class="card-body">
            <h6 class="card-title">
              <i class="fas fa-brain text-primary"></i> AI Features
            </h6>
            <ul class="list-unstyled mb-0">
              <li>
                <i class="fas fa-check text-success"></i> Casual conversations
              </li>
              <li>
                <i class="fas fa-check text-success"></i> Memory of previous
                chats
              </li>
              <li>
                <i class="fas fa-check text-success"></i> Random topic
                suggestions
              </li>
              <li>
                <i class="fas fa-check text-success"></i> Empathetic responses
              </li>
              <li>
                <i class="fas fa-check text-success"></i> Voice responses with
                Gemini TTS
              </li>
            </ul>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="card">
          <div class="card-body">
            <h6 class="card-title">
              <i class="fas fa-cog text-primary"></i> Tips
            </h6>
            <ul class="list-unstyled mb-0">
              <li>
                <i class="fas fa-lightbulb text-warning"></i> Ask about
                anything!
              </li>
              <li>
                <i class="fas fa-lightbulb text-warning"></i> Use "Random Topic"
                for ideas
              </li>
              <li>
                <i class="fas fa-lightbulb text-warning"></i> The AI remembers
                our chat
              </li>
              <li>
                <i class="fas fa-lightbulb text-warning"></i> Be yourself and
                have fun!
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Loading Overlay -->
<div id="loading-overlay" class="loading-overlay" style="display: none">
  <div class="spinner-border text-primary" role="status">
    <span class="visually-hidden">AI is thinking...</span>
  </div>
</div>
{% endblock %} {% block extra_js %}
<script src="{{ url_for('static', filename='js/chat.js') }}"></script>
{% endblock %}
